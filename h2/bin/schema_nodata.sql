;              
CREATE USER IF NOT EXISTS SA SALT 'f963c8b206d209ea' HASH 'da889b21e7dd97de132e749d0b9936380bc01f2e56a6e5c9c7424381cc756d23' ADMIN;            
CREATE CACHED TABLE PUBLIC.CUSTOMER(
    CUSTOMER_ID INTEGER NOT NULL SELECTIVITY 100,
    HOME_STORE INTEGER NOT NULL SELECTIVITY 1,
    CUSTOMER_NAME VARCHAR(20) NOT NULL SELECTIVITY 97,
    CUSTOMER_EMAIL VARCHAR(25) NOT NULL SELECTIVITY 100,
    CUSTOMER_SINCE DATE NOT NULL SELECTIVITY 59,
    LOYALTY_CARD_NUMBER VARCHAR(12) NOT NULL SELECTIVITY 100,
    BIRTHDATE DATE NOT NULL SELECTIVITY 78,
    GENDER VARCHAR(1) NOT NULL SELECTIVITY 1,
    BIRTH_YEAR INTEGER NOT NULL SELECTIVITY 5
);
ALTER TABLE PUBLIC.CUSTOMER ADD CONSTRAINT PUBLIC.CONSTRAINT_8 PRIMARY KEY(CUSTOMER_ID);       
-- 2246 +/- SELECT COUNT(*) FROM PUBLIC.CUSTOMER;              
CREATE CACHED TABLE PUBLIC.DATES(
    TRANSACTION_DATE VARCHAR(9) NOT NULL,
    DATE_ID INTEGER NOT NULL,
    WEEK_ID INTEGER NOT NULL,
    WEEK_DESC VARCHAR(7) NOT NULL,
    MONTH_ID INTEGER NOT NULL,
    MONTH_NAME VARCHAR(5) NOT NULL,
    QUARTER_ID INTEGER NOT NULL,
    QUARTER_NAME VARCHAR(2) NOT NULL,
    YEAR_ID INTEGER NOT NULL
);           
ALTER TABLE PUBLIC.DATES ADD CONSTRAINT PUBLIC.CONSTRAINT_85 PRIMARY KEY(DATE_ID);             
-- 30 +/- SELECT COUNT(*) FROM PUBLIC.DATES;   
CREATE CACHED TABLE PUBLIC.GENERATIONS(
    BIRTH_YEAR INTEGER NOT NULL,
    GENERATION VARCHAR(19) NOT NULL
);
ALTER TABLE PUBLIC.GENERATIONS ADD CONSTRAINT PUBLIC.CONSTRAINT_B PRIMARY KEY(BIRTH_YEAR);     
-- 70 +/- SELECT COUNT(*) FROM PUBLIC.GENERATIONS;             
CREATE CACHED TABLE PUBLIC.PASTRY_INVENTORY(
    ID INTEGER NOT NULL,
    SALES_OUTLET_ID INTEGER NOT NULL,
    TRANSACTION_DATE VARCHAR(9) NOT NULL,
    PRODUCT_ID INTEGER NOT NULL,
    START_OF_DAY INTEGER NOT NULL,
    QUANTITY_SOLD INTEGER NOT NULL,
    WASTE INTEGER
);             
ALTER TABLE PUBLIC.PASTRY_INVENTORY ADD CONSTRAINT PUBLIC.CONSTRAINT_D PRIMARY KEY(ID);        
-- 307 +/- SELECT COUNT(*) FROM PUBLIC.PASTRY_INVENTORY;       
CREATE CACHED TABLE PUBLIC.PRODUCT(
    PRODUCT_ID INTEGER NOT NULL,
    PRODUCT_GROUP VARCHAR(15) NOT NULL,
    PRODUCT_CATEGORY VARCHAR(18) NOT NULL,
    PRODUCT_TYPE VARCHAR(21) NOT NULL,
    PRODUCT VARCHAR(28) NOT NULL,
    PRODUCT_DESCRIPTION VARCHAR(95) NOT NULL,
    UNIT_OF_MEASURE VARCHAR(6) NOT NULL,
    CURRENT_WHOLESALE_PRICE NUMERIC(5, 2) NOT NULL,
    CURRENT_RETAIL_PRICE VARCHAR(7) NOT NULL,
    TAX_EXEMPT_YN VARCHAR(1) NOT NULL,
    PROMO_YN VARCHAR(1) NOT NULL,
    NEW_PRODUCT_YN VARCHAR(1) NOT NULL
);   
ALTER TABLE PUBLIC.PRODUCT ADD CONSTRAINT PUBLIC.CONSTRAINT_1 PRIMARY KEY(PRODUCT_ID);         
-- 88 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCT; 
CREATE CACHED TABLE PUBLIC.SALES_TARGETS(
    SALES_OUTLET_ID INTEGER NOT NULL,
    YEAR_MONTH VARCHAR(6) NOT NULL,
    BEANS_GOAL INTEGER NOT NULL,
    BEVERAGE_GOAL INTEGER NOT NULL,
    FOOD_GOAL INTEGER NOT NULL,
    "merchandise _goal" INTEGER NOT NULL,
    TOTAL_GOAL INTEGER NOT NULL
);          
ALTER TABLE PUBLIC.SALES_TARGETS ADD CONSTRAINT PUBLIC.CONSTRAINT_C PRIMARY KEY(SALES_OUTLET_ID);              
-- 8 +/- SELECT COUNT(*) FROM PUBLIC.SALES_TARGETS;            
CREATE CACHED TABLE PUBLIC.SALES_OUTLET(
    SALES_OUTLET_ID INTEGER NOT NULL,
    SALES_OUTLET_TYPE VARCHAR(9) NOT NULL,
    STORE_SQUARE_FEET INTEGER NOT NULL,
    STORE_ADDRESS VARCHAR(18) NOT NULL,
    STORE_CITY VARCHAR(16) NOT NULL,
    STORE_STATE_PROVINCE VARCHAR(2) NOT NULL,
    STORE_TELEPHONE VARCHAR(12) NOT NULL,
    STORE_POSTAL_CODE INTEGER NOT NULL,
    STORE_LONGITUDE NUMERIC(10, 6) NOT NULL,
    STORE_LATITUDE NUMERIC(9, 6) NOT NULL,
    MANAGER INTEGER,
    NEIGHORHOOD VARCHAR(17) NOT NULL
);            
ALTER TABLE PUBLIC.SALES_OUTLET ADD CONSTRAINT PUBLIC.CONSTRAINT_A PRIMARY KEY(SALES_OUTLET_ID);               
-- 9 +/- SELECT COUNT(*) FROM PUBLIC.SALES_OUTLET;             
CREATE CACHED TABLE PUBLIC.STAFF(
    STAFF_ID INTEGER NOT NULL,
    FIRST_NAME VARCHAR(8) NOT NULL,
    LAST_NAME VARCHAR(8) NOT NULL,
    POSITION VARCHAR(15) NOT NULL,
    START_DATE VARCHAR(10) NOT NULL,
    LOCATION VARCHAR(2) NOT NULL
);            
ALTER TABLE PUBLIC.STAFF ADD CONSTRAINT PUBLIC.CONSTRAINT_85D PRIMARY KEY(STAFF_ID);           
-- 55 +/- SELECT COUNT(*) FROM PUBLIC.STAFF;   
CREATE CACHED TABLE PUBLIC.RECIEPTS(
    TRANSACTION_ID INTEGER NOT NULL SELECTIVITY 100,
    TRANSACTION_DATE VARCHAR(10) NOT NULL SELECTIVITY 1,
    TRANSACTION_TIME VARCHAR(8) NOT NULL SELECTIVITY 98,
    SALES_OUTLET_ID INTEGER NOT NULL SELECTIVITY 1,
    STAFF_ID INTEGER NOT NULL SELECTIVITY 1,
    CUSTOMER_ID INTEGER NOT NULL SELECTIVITY 78,
    INSTORE_YN VARCHAR(1) SELECTIVITY 1,
    ORDER_ID INTEGER NOT NULL SELECTIVITY 1,
    LINE_ITEM_ID INTEGER NOT NULL SELECTIVITY 1,
    PRODUCT_ID INTEGER NOT NULL SELECTIVITY 4,
    QUANTITY INTEGER NOT NULL SELECTIVITY 1,
    LINE_ITEM_AMOUNT NUMERIC(6, 2) NOT NULL SELECTIVITY 2,
    UNIT_PRICE NUMERIC(5, 2) NOT NULL SELECTIVITY 1,
    PROMO_ITEM_YN VARCHAR(1) NOT NULL SELECTIVITY 1
);        
ALTER TABLE PUBLIC.RECIEPTS ADD CONSTRAINT PUBLIC.CONSTRAINT_F PRIMARY KEY(TRANSACTION_ID);    
-- 4203 +/- SELECT COUNT(*) FROM PUBLIC.RECIEPTS;              
